(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login-User-Reg"],{"013f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),a("h1"),a("div",{staticClass:"login-box"},[a("p",{staticClass:"lsolid"}),a("div",{staticClass:"login"},[a("router-link",{attrs:{to:"/Login",tag:"a"}},[t._v("登录")]),a("span"),a("router-link",{attrs:{to:"/Reg",tag:"a"}},[t._v("注册")])],1),a("p",{staticClass:"rsolid"})]),a("div",{staticClass:"input"},[a("uc-input",{attrs:{label:"账号",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("uc-input",{attrs:{label:"密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"footbox"},[a("Button",{attrs:{text:"登  陆"},on:{click:t.login}}),a("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1),t._v("\n  "+t._s(t.errmie)+"\n")])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"fhbtn"},[a("a",{attrs:{href:"mydoc_m.html"}})])}],r=(a("a481"),a("3e30")),i=a("307c"),o=a("bc3a"),c=a.n(o),u={name:"Login",props:{},data:function(){return{username:"",password:"",errmie:""}},components:{Button:i["a"],UcInput:r["a"]},mounted:function(){},updated:function(){},methods:{login:function(){var t=this;c()({url:"/api/login",method:"post",data:{username:this.username,password:this.password}}).then(function(e){0==e.data.err?(t.$router.replace("/home"),window.localStorage.setItem("user",JSON.stringify(e.data)),t.$store.commit("user/USER",e.data),t.username=t.password=t.errMess=""):(t.errmie="登录失败",t.$router.replace("/user"))})}}},l=u,p=(a("da41"),a("2877")),d=Object(p["a"])(l,s,n,!1,null,null,null);e["default"]=d.exports},"05c8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),a("h1",{attrs:{id:"h1"},on:{click:t.upload}}),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"}}),a("div",{staticClass:"login-box"},[a("p",{staticClass:"lsolid"}),a("div",{staticClass:"login"},[a("router-link",{attrs:{to:"/Login",tag:"a"}},[t._v("登录")]),a("span"),a("router-link",{attrs:{to:"/Reg",tag:"a"}},[t._v("注册")])],1),a("p",{staticClass:"rsolid"})]),a("div",{staticClass:"input"},[a("uc-input",{attrs:{label:"账号",type:"text"},model:{value:t.username,callback:function(e){t.username="string"===typeof e?e.trim():e},expression:"username"}}),a("uc-input",{attrs:{label:"密码",type:"password"},model:{value:t.password,callback:function(e){t.password="string"===typeof e?e.trim():e},expression:"password"}})],1),a("div",{staticClass:"footbox"},[a("Button",{attrs:{text:"注  册"},on:{click:t.Reg}}),a("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1),t._v("\n  "+t._s(t.errorMess)+"\n")])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"fhbtn"},[a("a",{attrs:{href:"mydoc_m.html"}})])}],r=(a("a481"),a("3e30")),i=a("307c"),o=a("bc3a"),c=a.n(o),u={name:"Login",props:{},data:function(){return{username:"",password:"",errorMess:""}},components:{Button:i["a"],UcInput:r["a"]},mounted:function(){},updated:function(){},methods:{upload:function(){var t=document.getElementById("file");t.click()},Reg:function(){var t=this,e=new FormData;e.append("username",this.username),e.append("password",this.password);var a=document.getElementById("file");e.append("icon",a.files[0]),c()({url:"/api/reg",method:"post",data:e}).then(function(e){0===e.data.err?t.$router.replace("/login"):t.errorMess=e.data.msg})}}},l=u,p=(a("361b"),a("2877")),d=Object(p["a"])(l,s,n,!1,null,null,null);e["default"]=d.exports},"0c8f":function(t,e,a){"use strict";var s=a("6c66"),n=a.n(s);n.a},"1cab":function(t,e,a){},"24bd":function(t,e,a){},"307c":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Button"},[a("input",{staticClass:"login-btn",style:{background:t.bgColor},attrs:{type:"button",value:t.text},on:{click:function(e){return t.$emit("click")}}})])},n=[],r={name:"xxx",props:{text:{type:String,default:"按 钮"},bgColor:{type:String,default:"#4c4f50"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},i=r,o=(a("981a"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,null,null);e["a"]=c.exports},"361b":function(t,e,a){"use strict";var s=a("acfd"),n=a.n(s);n.a},"3e30":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uc-input"},[a("input",{attrs:{type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),a("span",[t._v(t._s(t.label))])])},n=[],r={name:"uc-input",props:{label:{type:String,default:"标题"},value:{type:String,default:""},type:{type:String,default:"text"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},i=r,o=(a("0c8f"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,"8ca790ec",null);e["a"]=c.exports},"6c66":function(t,e,a){},"8c2b":function(t,e,a){"use strict";var s=a("d22a"),n=a.n(s);n.a},"981a":function(t,e,a){"use strict";var s=a("24bd"),n=a.n(s);n.a},acfd:function(t,e,a){},d22a:function(t,e,a){},d843:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("h2",[a("img",{attrs:{src:t.$baseUrl+t.user.icon,alt:""}})]),a("div",{staticClass:"user-box"},[a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.user.nikename))]),a("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("注销")])]),a("ul",{staticClass:"clear"},[a("li",[a("span",[t._v(t._s(t.user.follow))]),a("p",[t._v("关注")])]),a("li",[a("span",[t._v(t._s(t.user.fans))]),a("p",{staticClass:"end"},[t._v("粉丝")])])])]),t._m(0)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"docList"},[a("ul",[a("li",{staticClass:"gk-text"},[a("i"),a("p",[t._v("公开博文")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"mm-text"},[a("i"),a("p",[t._v("秘密博文")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"cg-text"},[a("i"),a("p",[t._v("草稿箱")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"sc-text"},[a("i"),a("p",[t._v("收藏夹")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"my_cz"},[a("i"),a("p",[t._v("收藏夹")])])])])}],r=a("bc3a"),i=a.n(r),o={beforeRouteEnter:function(t,e,a){var s=window.localStorage.getItem("user");s?i()({url:"/api/user",headers:{token:JSON.parse(s).token}}).then(function(t){0==t.data.err?a(function(e){return e.user=t.data.data}):a("/login")}):a("/login")},name:"User",props:{},data:function(){return{user:{}}},components:{},mounted:function(){},updated:function(){},methods:{logout:function(){window.localStorage.removeItem("user"),this.$store.commit("user/USER",{err:1}),this.$router.push("/login")}}},c=o,u=(a("8c2b"),a("2877")),l=Object(u["a"])(c,s,n,!1,null,null,null);e["default"]=l.exports},da41:function(t,e,a){"use strict";var s=a("1cab"),n=a.n(s);n.a}}]);
//# sourceMappingURL=Login-User-Reg.ab912fdd.js.map